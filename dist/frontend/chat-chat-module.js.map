{"version":3,"sources":["webpack:///./src/app/chat/chat.module.ts","webpack:///./src/app/chat/chat.routing.module.ts","webpack:///./src/app/chat/components/messages-layout/input/input.component.html","webpack:///./src/app/chat/components/messages-layout/input/input.component.scss","webpack:///./src/app/chat/components/messages-layout/input/input.component.ts","webpack:///./src/app/chat/components/messages-layout/message/message.component.html","webpack:///./src/app/chat/components/messages-layout/message/message.component.scss","webpack:///./src/app/chat/components/messages-layout/message/message.component.ts","webpack:///./src/app/chat/components/messages-layout/messages-layout.component.html","webpack:///./src/app/chat/components/messages-layout/messages-layout.component.scss","webpack:///./src/app/chat/components/messages-layout/messages-layout.component.ts","webpack:///./src/app/chat/components/users/users.component.html","webpack:///./src/app/chat/components/users/users.component.scss","webpack:///./src/app/chat/components/users/users.component.ts","webpack:///./src/app/chat/pages/chat-page/chat-page.component.html","webpack:///./src/app/chat/pages/chat-page/chat-page.component.scss","webpack:///./src/app/chat/pages/chat-page/chat-page.component.ts","webpack:///./src/app/chat/services/conversations.service.ts","webpack:///./src/app/chat/services/users.service.ts"],"names":[],"mappings":"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","file":"chat-chat-module.js","sourcesContent":["import { NgModule, Input } from \"@angular/core\";\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\nimport { RouterModule } from \"@angular/router\";\nimport { MatInputModule } from \"@angular/material/input\";\nimport { MatButtonModule } from \"@angular/material/button\";\nimport { ChatRoutes } from \"./chat.routing.module\";\nimport { ChatPageComponent } from \"./pages/chat-page/chat-page.component\";\nimport { InputComponent } from \"./components/messages-layout/input/input.component\";\nimport { MessagesLayoutComponent } from \"./components/messages-layout/messages-layout.component\";\nimport { MessageComponent } from \"./components/messages-layout/message/message.component\";\nimport { UsersComponent } from \"./components/users/users.component\";\nimport { CoreModule } from \"../core/core.module\";\n\n@NgModule({\n  imports: [\n    MatButtonModule,\n    MatInputModule,\n    ReactiveFormsModule,\n    FormsModule,\n    CoreModule,\n    RouterModule.forChild(ChatRoutes),\n  ],\n  declarations: [\n    UsersComponent,\n    ChatPageComponent,\n    InputComponent,\n    MessagesLayoutComponent,\n    MessageComponent,\n  ],\n  exports: [ChatPageComponent],\n})\nexport class ChatModule {}\n","import { Routes } from \"@angular/router\";\nimport { ChatPageComponent } from \"./pages/chat-page/chat-page.component\";\n\nexport const ChatRoutes: Routes = [\n  {\n    path: \"\",\n    component: ChatPageComponent,\n  },\n];\n","module.exports = \"<div class=\\\"input-wrapper\\\">\\n  <div class=\\\"input\\\">\\n    <input [(ngModel)]=\\\"messageText\\\" autofocus autocomplete=\\\"off\\\" />\\n  </div>\\n\\n  <div (click)=\\\"onSendNewMessage()\\\" class=\\\"input-btn\\\">\\n    <i class=\\\"fas fa-paper-plane\\\"></i>\\n  </div>\\n</div>\\n\"","module.exports = \".input-wrapper {\\n  display: flex;\\n  align-items: center; }\\n  .input-wrapper .input {\\n    margin: 10px 11px 0 36px;\\n    display: flex;\\n    align-items: center;\\n    width: 80%;\\n    height: 40px;\\n    border-radius: 15px;\\n    box-shadow: 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12), 0 3px 5px -1px rgba(0, 0, 0, 0.2); }\\n  .input-wrapper .input input {\\n      padding-left: 20px;\\n      height: 40px;\\n      border-radius: 15px;\\n      border-width: 0px;\\n      border: none;\\n      outline: none;\\n      font-size: 15px;\\n      width: 100%; }\\n  .input-wrapper .input-btn {\\n    cursor: pointer;\\n    color: #486fe9;\\n    font-size: 25px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9pZ29ycm9tYW5vdnNreS9kZXZlbG9wbWVudC9jaGF0QXBwL2NoYXQtZnJvbnRlbmQvc3JjL2FwcC9jaGF0L2NvbXBvbmVudHMvbWVzc2FnZXMtbGF5b3V0L2lucHV0L2lucHV0LmNvbXBvbmVudC5zY3NzIiwiL1VzZXJzL2lnb3Jyb21hbm92c2t5L2RldmVsb3BtZW50L2NoYXRBcHAvY2hhdC1mcm9udGVuZC9zcmMvc3R5bGVzL3ZhcnMuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNFLGNBQWE7RUFDYixvQkFBbUIsRUEwQnBCO0VBNUJEO0lBSUkseUJBQXdCO0lBQ3hCLGNBQWE7SUFDYixvQkFBbUI7SUFDbkIsV0FBVTtJQUNWLGFBQVk7SUFDWixvQkFBbUI7SUFDbkIsa0hDWlEsRUR1QlQ7RUFyQkg7TUFZTSxtQkFBa0I7TUFDbEIsYUFBWTtNQUNaLG9CQUFtQjtNQUNuQixrQkFBaUI7TUFDakIsYUFBWTtNQUNaLGNBQWE7TUFDYixnQkFBZTtNQUNmLFlBQVcsRUFDWjtFQXBCTDtJQXdCSSxnQkFBZTtJQUNmLGVDbkJnQjtJRG9CaEIsZ0JBQWUsRUFDaEIiLCJmaWxlIjoic3JjL2FwcC9jaGF0L2NvbXBvbmVudHMvbWVzc2FnZXMtbGF5b3V0L2lucHV0L2lucHV0LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCBcIi4uLy4uLy4uLy4uLy4uL3N0eWxlcy92YXJzLnNjc3NcIjtcblxuLmlucHV0LXdyYXBwZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAuaW5wdXQge1xuICAgIG1hcmdpbjogMTBweCAxMXB4IDAgMzZweDtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgd2lkdGg6IDgwJTtcbiAgICBoZWlnaHQ6IDQwcHg7XG4gICAgYm9yZGVyLXJhZGl1czogMTVweDtcbiAgICBib3gtc2hhZG93OiAkc2hhZG93LTZkcDtcbiAgICBpbnB1dCB7XG4gICAgICBwYWRkaW5nLWxlZnQ6IDIwcHg7XG4gICAgICBoZWlnaHQ6IDQwcHg7XG4gICAgICBib3JkZXItcmFkaXVzOiAxNXB4O1xuICAgICAgYm9yZGVyLXdpZHRoOiAwcHg7XG4gICAgICBib3JkZXI6IG5vbmU7XG4gICAgICBvdXRsaW5lOiBub25lO1xuICAgICAgZm9udC1zaXplOiAxNXB4O1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgfVxuICB9XG5cbiAgLmlucHV0LWJ0biB7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIGNvbG9yOiAkZ29vZ2xlQmx1ZTtcbiAgICBmb250LXNpemU6IDI1cHg7XG4gIH1cbn1cbiIsIiRibGFjazogIzAwMDtcbiRncmF5LWRhcmtlcjogIzM5NDI0OTtcbiRncmF5LWRhcms6ICM0MzRjNTM7XG4kZ3JheTogIzZkNzU3OTtcbiRncmF5LWxpZ2h0OiAjYjBiNmI4O1xuJGdyYXktbGlnaHRlcjogI2Q1ZDlkODtcbiRncmF5LW1vcmUtbGlnaHRlcjogcmdiKDIzOSwgMjQzLCAyNDIpO1xuXG4kZ29vZ2xlQmx1ZTogIzQ4NmZlOTtcbiRnb29nbGVCbHVlTGlnaHRlcjogIzQ4NmZlOTtcbiRnb29nbGVHcmV5OiAjZjJmM2Y1O1xuXG4vLyBTaXplIGhlbHBlcnNcbiRuYXZiYXJIZWlnaHQ6IDUwcHg7XG5cbiRibWQtc2hhZG93LXVtYnJhLW9wYWNpdHk6IDAuMiAhZGVmYXVsdDtcbiRibWQtc2hhZG93LXBlbnVtYnJhLW9wYWNpdHk6IDAuMTQgIWRlZmF1bHQ7XG4kYm1kLXNoYWRvdy1hbWJpZW50LW9wYWNpdHk6IDAuMTIgIWRlZmF1bHQ7XG4kc2hhZG93LTJkcDogMCAycHggMnB4IDAgcmdiYSgkYmxhY2ssICRibWQtc2hhZG93LXBlbnVtYnJhLW9wYWNpdHkpLFxuICAwIDNweCAxcHggLTJweCByZ2JhKCRibGFjaywgJGJtZC1zaGFkb3ctdW1icmEtb3BhY2l0eSksXG4gIDAgMXB4IDVweCAwIHJnYmEoJGJsYWNrLCAkYm1kLXNoYWRvdy1hbWJpZW50LW9wYWNpdHkpO1xuJHNoYWRvdy00ZHA6IDAgNHB4IDVweCAwIHJnYmEoJGJsYWNrLCAkYm1kLXNoYWRvdy1wZW51bWJyYS1vcGFjaXR5KSxcbiAgMCAxcHggMTBweCAwIHJnYmEoJGJsYWNrLCAkYm1kLXNoYWRvdy1hbWJpZW50LW9wYWNpdHkpLFxuICAwIDJweCA0cHggLTFweCByZ2JhKCRibGFjaywgJGJtZC1zaGFkb3ctdW1icmEtb3BhY2l0eSk7XG4kc2hhZG93LTZkcDogMCA2cHggMTBweCAwIHJnYmEoJGJsYWNrLCAkYm1kLXNoYWRvdy1wZW51bWJyYS1vcGFjaXR5KSxcbiAgMCAxcHggMThweCAwIHJnYmEoJGJsYWNrLCAkYm1kLXNoYWRvdy1hbWJpZW50LW9wYWNpdHkpLFxuICAwIDNweCA1cHggLTFweCByZ2JhKCRibGFjaywgJGJtZC1zaGFkb3ctdW1icmEtb3BhY2l0eSk7XG4kc2hhZG93LThkcDogMCA4cHggMTBweCAxcHggcmdiYSgkYmxhY2ssICRibWQtc2hhZG93LXBlbnVtYnJhLW9wYWNpdHkpLFxuICAwIDNweCAxNHB4IDJweCByZ2JhKCRibGFjaywgJGJtZC1zaGFkb3ctYW1iaWVudC1vcGFjaXR5KSxcbiAgMCA1cHggNXB4IC0zcHggcmdiYSgkYmxhY2ssICRibWQtc2hhZG93LXVtYnJhLW9wYWNpdHkpO1xuIl19 */\"","import { Component, OnInit, Input } from \"@angular/core\";\nimport { MessagesService } from \"src/app/chat/services/messages.service\";\nimport { AccessService } from \"src/app/access/services/access.service\";\nimport { Message } from \"src/app/chat/types/message.type\";\nimport { User } from \"src/app/shared/types/user.type\";\n\n@Component({\n  selector: \"app-input\",\n  templateUrl: \"./input.component.html\",\n  styleUrls: [\"./input.component.scss\"],\n})\nexport class InputComponent implements OnInit {\n  @Input() conversationPartner: User;\n  @Input() conversationId: string;\n  public messageText = \"\";\n  private currentUserId: string;\n\n  constructor(\n    private messageService: MessagesService,\n    private accessService: AccessService\n  ) {}\n\n  ngOnInit() {\n    this.currentUserId = this.accessService.loggedUser._id;\n  }\n\n  public onSendNewMessage(): void {\n    const message: Message = {\n      text: this.messageText,\n      sender: this.currentUserId,\n      receiver: this.conversationPartner._id,\n      conversationId: this.conversationId,\n    };\n    this.messageService.onSendNewMessage(message);\n  }\n}\n","module.exports = \"<div class=\\\"message-wrapper\\\">\\n  <div *ngFor=\\\"let message of messages; let i = index\\\" class=\\\"message\\\">\\n    <div class=\\\"message-info\\\">\\n      <div\\n        class=\\\"icon\\\"\\n        [ngClass]=\\\"{\\n          'partner-message-icon': message.sender !== conversationPartner._id\\n        }\\\"\\n      >\\n        <span *ngIf=\\\"message.sender === conversationPartner._id\\\">{{\\n          conversationPartner.userName.slice(0, 1)\\n        }}</span>\\n        <span *ngIf=\\\"message.sender !== conversationPartner._id\\\">{{\\n          currentUser.userName.slice(0, 1)\\n        }}</span>\\n      </div>\\n      <div\\n        [ngClass]=\\\"{\\n          'partner-message-text': message.sender !== conversationPartner._id\\n        }\\\"\\n        class=\\\"text\\\"\\n      >\\n        {{ message.text }}\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"","module.exports = \".message-wrapper .message .message-info {\\n  position: relative;\\n  display: flex;\\n  align-items: center; }\\n  .message-wrapper .message .message-info .text {\\n    max-width: 200px;\\n    background-color: #486fe9;\\n    margin: 10px 50px;\\n    color: #fff;\\n    padding: 10px;\\n    border-radius: 20px;\\n    display: block;\\n    word-wrap: break-word; }\\n  .message-wrapper .message .message-info .icon {\\n    position: absolute;\\n    left: 10px; }\\n  .partner-message-text {\\n  margin-left: auto !important;\\n  margin-right: 60px !important; }\\n  .partner-message-icon {\\n  left: auto !important;\\n  right: 10px !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9pZ29ycm9tYW5vdnNreS9kZXZlbG9wbWVudC9jaGF0QXBwL2NoYXQtZnJvbnRlbmQvc3JjL2FwcC9jaGF0L2NvbXBvbmVudHMvbWVzc2FnZXMtbGF5b3V0L21lc3NhZ2UvbWVzc2FnZS5jb21wb25lbnQuc2NzcyIsIi9Vc2Vycy9pZ29ycm9tYW5vdnNreS9kZXZlbG9wbWVudC9jaGF0QXBwL2NoYXQtZnJvbnRlbmQvc3JjL3N0eWxlcy92YXJzLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7RUFHTSxtQkFBa0I7RUFDbEIsY0FBYTtFQUNiLG9CQUFtQixFQWlCcEI7RUF0Qkw7SUFRUSxpQkFBZ0I7SUFDaEIsMEJDSFk7SURJWixrQkFBaUI7SUFDakIsWUFBVztJQUNYLGNBQWE7SUFDYixvQkFBbUI7SUFDbkIsZUFBYztJQUNkLHNCQUFxQixFQUN0QjtFQWhCUDtJQW1CUSxtQkFBa0I7SUFDbEIsV0FBVSxFQUNYO0VBUVA7RUFDRSw2QkFBNEI7RUFDNUIsOEJBQTZCLEVBQzlCO0VBQ0Q7RUFDRSxzQkFBcUI7RUFDckIsdUJBQXNCLEVBQ3ZCIiwiZmlsZSI6InNyYy9hcHAvY2hhdC9jb21wb25lbnRzL21lc3NhZ2VzLWxheW91dC9tZXNzYWdlL21lc3NhZ2UuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0IFwiLi4vLi4vLi4vLi4vLi4vc3R5bGVzL3ZhcnMuc2Nzc1wiO1xuXG4ubWVzc2FnZS13cmFwcGVyIHtcbiAgLm1lc3NhZ2Uge1xuICAgIC5tZXNzYWdlLWluZm8ge1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cbiAgICAgIC50ZXh0IHtcbiAgICAgICAgbWF4LXdpZHRoOiAyMDBweDtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJGdvb2dsZUJsdWU7XG4gICAgICAgIG1hcmdpbjogMTBweCA1MHB4O1xuICAgICAgICBjb2xvcjogI2ZmZjtcbiAgICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMjBweDtcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgIHdvcmQtd3JhcDogYnJlYWstd29yZDtcbiAgICAgIH1cblxuICAgICAgLmljb24ge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIGxlZnQ6IDEwcHg7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi51c2VyLW1lc3NhZ2Uge1xufVxuXG4ucGFydG5lci1tZXNzYWdlLXRleHQge1xuICBtYXJnaW4tbGVmdDogYXV0byAhaW1wb3J0YW50O1xuICBtYXJnaW4tcmlnaHQ6IDYwcHggIWltcG9ydGFudDtcbn1cbi5wYXJ0bmVyLW1lc3NhZ2UtaWNvbiB7XG4gIGxlZnQ6IGF1dG8gIWltcG9ydGFudDtcbiAgcmlnaHQ6IDEwcHggIWltcG9ydGFudDtcbn1cbiIsIiRibGFjazogIzAwMDtcbiRncmF5LWRhcmtlcjogIzM5NDI0OTtcbiRncmF5LWRhcms6ICM0MzRjNTM7XG4kZ3JheTogIzZkNzU3OTtcbiRncmF5LWxpZ2h0OiAjYjBiNmI4O1xuJGdyYXktbGlnaHRlcjogI2Q1ZDlkODtcbiRncmF5LW1vcmUtbGlnaHRlcjogcmdiKDIzOSwgMjQzLCAyNDIpO1xuXG4kZ29vZ2xlQmx1ZTogIzQ4NmZlOTtcbiRnb29nbGVCbHVlTGlnaHRlcjogIzQ4NmZlOTtcbiRnb29nbGVHcmV5OiAjZjJmM2Y1O1xuXG4vLyBTaXplIGhlbHBlcnNcbiRuYXZiYXJIZWlnaHQ6IDUwcHg7XG5cbiRibWQtc2hhZG93LXVtYnJhLW9wYWNpdHk6IDAuMiAhZGVmYXVsdDtcbiRibWQtc2hhZG93LXBlbnVtYnJhLW9wYWNpdHk6IDAuMTQgIWRlZmF1bHQ7XG4kYm1kLXNoYWRvdy1hbWJpZW50LW9wYWNpdHk6IDAuMTIgIWRlZmF1bHQ7XG4kc2hhZG93LTJkcDogMCAycHggMnB4IDAgcmdiYSgkYmxhY2ssICRibWQtc2hhZG93LXBlbnVtYnJhLW9wYWNpdHkpLFxuICAwIDNweCAxcHggLTJweCByZ2JhKCRibGFjaywgJGJtZC1zaGFkb3ctdW1icmEtb3BhY2l0eSksXG4gIDAgMXB4IDVweCAwIHJnYmEoJGJsYWNrLCAkYm1kLXNoYWRvdy1hbWJpZW50LW9wYWNpdHkpO1xuJHNoYWRvdy00ZHA6IDAgNHB4IDVweCAwIHJnYmEoJGJsYWNrLCAkYm1kLXNoYWRvdy1wZW51bWJyYS1vcGFjaXR5KSxcbiAgMCAxcHggMTBweCAwIHJnYmEoJGJsYWNrLCAkYm1kLXNoYWRvdy1hbWJpZW50LW9wYWNpdHkpLFxuICAwIDJweCA0cHggLTFweCByZ2JhKCRibGFjaywgJGJtZC1zaGFkb3ctdW1icmEtb3BhY2l0eSk7XG4kc2hhZG93LTZkcDogMCA2cHggMTBweCAwIHJnYmEoJGJsYWNrLCAkYm1kLXNoYWRvdy1wZW51bWJyYS1vcGFjaXR5KSxcbiAgMCAxcHggMThweCAwIHJnYmEoJGJsYWNrLCAkYm1kLXNoYWRvdy1hbWJpZW50LW9wYWNpdHkpLFxuICAwIDNweCA1cHggLTFweCByZ2JhKCRibGFjaywgJGJtZC1zaGFkb3ctdW1icmEtb3BhY2l0eSk7XG4kc2hhZG93LThkcDogMCA4cHggMTBweCAxcHggcmdiYSgkYmxhY2ssICRibWQtc2hhZG93LXBlbnVtYnJhLW9wYWNpdHkpLFxuICAwIDNweCAxNHB4IDJweCByZ2JhKCRibGFjaywgJGJtZC1zaGFkb3ctYW1iaWVudC1vcGFjaXR5KSxcbiAgMCA1cHggNXB4IC0zcHggcmdiYSgkYmxhY2ssICRibWQtc2hhZG93LXVtYnJhLW9wYWNpdHkpO1xuIl19 */\"","import { Component, OnInit, Input } from \"@angular/core\";\nimport { Message } from \"src/app/chat/types/message.type\";\nimport { AccessService } from \"src/app/access/services/access.service\";\nimport { User } from \"src/app/shared/types/user.type\";\n\n@Component({\n  selector: \"app-message\",\n  templateUrl: \"./message.component.html\",\n  styleUrls: [\"./message.component.scss\"],\n})\nexport class MessageComponent implements OnInit {\n  @Input() messages: Message[];\n  @Input() conversationPartner: User;\n  public currentUser: User;\n  constructor(private accessService: AccessService) {}\n\n  ngOnInit() {\n    this.currentUser = this.accessService.loggedUser;\n  }\n}\n","module.exports = \"<div class=\\\"messages-container\\\">\\n  <div #messageContainer class=\\\"user-messages\\\">\\n    <app-message\\n      [conversationPartner]=\\\"conversationPartner\\\"\\n      [messages]=\\\"conversation?.messages\\\"\\n    ></app-message>\\n  </div>\\n  <div class=\\\"input-container\\\">\\n    <app-input\\n      [conversationId]=\\\"conversation?._id\\\"\\n      [conversationPartner]=\\\"conversationPartner\\\"\\n    ></app-input>\\n  </div>\\n</div>\\n\"","module.exports = \".messages-container .user-messages {\\n  height: calc(100vh - 115px);\\n  overflow: scroll; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9pZ29ycm9tYW5vdnNreS9kZXZlbG9wbWVudC9jaGF0QXBwL2NoYXQtZnJvbnRlbmQvc3JjL2FwcC9jaGF0L2NvbXBvbmVudHMvbWVzc2FnZXMtbGF5b3V0L21lc3NhZ2VzLWxheW91dC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUVJLDRCQUEyQjtFQUMzQixpQkFBZ0IsRUFDakIiLCJmaWxlIjoic3JjL2FwcC9jaGF0L2NvbXBvbmVudHMvbWVzc2FnZXMtbGF5b3V0L21lc3NhZ2VzLWxheW91dC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgXCIuLi8uLi8uLi8uLi9zdHlsZXMvdmFycy5zY3NzXCI7XG4ubWVzc2FnZXMtY29udGFpbmVyIHtcbiAgLnVzZXItbWVzc2FnZXMge1xuICAgIGhlaWdodDogY2FsYygxMDB2aCAtIDExNXB4KTtcbiAgICBvdmVyZmxvdzogc2Nyb2xsO1xuICB9XG5cbiAgLmlucHV0LWNvbnRhaW5lciB7XG4gIH1cbn1cbiJdfQ== */\"","import {\n  Component,\n  OnInit,\n  OnDestroy,\n  Input,\n  OnChanges,\n  ViewChild,\n  SimpleChanges,\n  ElementRef,\n} from \"@angular/core\";\nimport { Message } from \"@angular/compiler/src/i18n/i18n_ast\";\nimport { Conversation } from \"../../types/conversations.type\";\nimport { User } from \"src/app/shared/types/user.type\";\n\n@Component({\n  selector: \"app-messages-layout\",\n  templateUrl: \"./messages-layout.component.html\",\n  styleUrls: [\"./messages-layout.component.scss\"],\n})\nexport class MessagesLayoutComponent implements OnInit, OnChanges {\n  @ViewChild(\"messageContainer\") messageContainer: ElementRef;\n  @Input() conversationPartner: User;\n  @Input() conversation: Conversation;\n  constructor() {}\n  ngOnInit() {}\n\n  ngOnChanges(change: SimpleChanges) {\n    if (change.conversation) {\n      this.scrollToBottom();\n    }\n  }\n\n  private scrollToBottom(): void {\n    setTimeout(() => {\n      this.messageContainer.nativeElement.scrollTop = this.messageContainer.nativeElement.scrollHeight;\n    }, 10);\n  }\n}\n","module.exports = \"<div class=\\\"user-container\\\">\\n  <div\\n    *ngFor=\\\"let user of users\\\"\\n    (click)=\\\"onUserSelect(user)\\\"\\n    [ngClass]=\\\"{ activeUser: user._id === selectedUserIdToChat }\\\"\\n    class=\\\"user-item\\\"\\n  >\\n    <div class=\\\"icon\\\"><i class=\\\"far fa-user\\\"></i></div>\\n    <div class=\\\"user-name\\\">{{ user?.userName }}</div>\\n  </div>\\n</div>\\n\"","module.exports = \".user-container .user-item {\\n  cursor: pointer;\\n  padding: 10px;\\n  border: 1px solid #eee;\\n  display: flex;\\n  align-items: center; }\\n  .user-container .user-item:hover {\\n    background-color: #486fe9;\\n    color: #fff; }\\n  .activeUser {\\n  background-color: #486fe9;\\n  color: #fff; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9pZ29ycm9tYW5vdnNreS9kZXZlbG9wbWVudC9jaGF0QXBwL2NoYXQtZnJvbnRlbmQvc3JjL2FwcC9jaGF0L2NvbXBvbmVudHMvdXNlcnMvdXNlcnMuY29tcG9uZW50LnNjc3MiLCIvVXNlcnMvaWdvcnJvbWFub3Zza3kvZGV2ZWxvcG1lbnQvY2hhdEFwcC9jaGF0LWZyb250ZW5kL3NyYy9zdHlsZXMvdmFycy5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BO0VBRUksZ0JBQWU7RUFDZixjQUFhO0VBQ2IsdUJBQXNCO0VBQ3RCLGNBQWE7RUFDYixvQkFBbUIsRUFLcEI7RUFYSDtJQUpFLDBCQ0trQjtJREpsQixZQUFXLEVBYVI7RUFJTDtFQWxCRSwwQkNLa0I7RURKbEIsWUFBVyxFQW1CWiIsImZpbGUiOiJzcmMvYXBwL2NoYXQvY29tcG9uZW50cy91c2Vycy91c2Vycy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgXCIuLi8uLi8uLi8uLi9zdHlsZXMvdmFycy5zY3NzXCI7XG5cbkBtaXhpbiBhY3RpdmVVc2VyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogJGdvb2dsZUJsdWU7XG4gIGNvbG9yOiAjZmZmO1xufVxuXG4udXNlci1jb250YWluZXIge1xuICAudXNlci1pdGVtIHtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgcGFkZGluZzogMTBweDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZWVlO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcblxuICAgICY6aG92ZXIge1xuICAgICAgQGluY2x1ZGUgYWN0aXZlVXNlcjtcbiAgICB9XG4gIH1cbn1cblxuLmFjdGl2ZVVzZXIge1xuICBAaW5jbHVkZSBhY3RpdmVVc2VyO1xufVxuIiwiJGJsYWNrOiAjMDAwO1xuJGdyYXktZGFya2VyOiAjMzk0MjQ5O1xuJGdyYXktZGFyazogIzQzNGM1MztcbiRncmF5OiAjNmQ3NTc5O1xuJGdyYXktbGlnaHQ6ICNiMGI2Yjg7XG4kZ3JheS1saWdodGVyOiAjZDVkOWQ4O1xuJGdyYXktbW9yZS1saWdodGVyOiByZ2IoMjM5LCAyNDMsIDI0Mik7XG5cbiRnb29nbGVCbHVlOiAjNDg2ZmU5O1xuJGdvb2dsZUJsdWVMaWdodGVyOiAjNDg2ZmU5O1xuJGdvb2dsZUdyZXk6ICNmMmYzZjU7XG5cbi8vIFNpemUgaGVscGVyc1xuJG5hdmJhckhlaWdodDogNTBweDtcblxuJGJtZC1zaGFkb3ctdW1icmEtb3BhY2l0eTogMC4yICFkZWZhdWx0O1xuJGJtZC1zaGFkb3ctcGVudW1icmEtb3BhY2l0eTogMC4xNCAhZGVmYXVsdDtcbiRibWQtc2hhZG93LWFtYmllbnQtb3BhY2l0eTogMC4xMiAhZGVmYXVsdDtcbiRzaGFkb3ctMmRwOiAwIDJweCAycHggMCByZ2JhKCRibGFjaywgJGJtZC1zaGFkb3ctcGVudW1icmEtb3BhY2l0eSksXG4gIDAgM3B4IDFweCAtMnB4IHJnYmEoJGJsYWNrLCAkYm1kLXNoYWRvdy11bWJyYS1vcGFjaXR5KSxcbiAgMCAxcHggNXB4IDAgcmdiYSgkYmxhY2ssICRibWQtc2hhZG93LWFtYmllbnQtb3BhY2l0eSk7XG4kc2hhZG93LTRkcDogMCA0cHggNXB4IDAgcmdiYSgkYmxhY2ssICRibWQtc2hhZG93LXBlbnVtYnJhLW9wYWNpdHkpLFxuICAwIDFweCAxMHB4IDAgcmdiYSgkYmxhY2ssICRibWQtc2hhZG93LWFtYmllbnQtb3BhY2l0eSksXG4gIDAgMnB4IDRweCAtMXB4IHJnYmEoJGJsYWNrLCAkYm1kLXNoYWRvdy11bWJyYS1vcGFjaXR5KTtcbiRzaGFkb3ctNmRwOiAwIDZweCAxMHB4IDAgcmdiYSgkYmxhY2ssICRibWQtc2hhZG93LXBlbnVtYnJhLW9wYWNpdHkpLFxuICAwIDFweCAxOHB4IDAgcmdiYSgkYmxhY2ssICRibWQtc2hhZG93LWFtYmllbnQtb3BhY2l0eSksXG4gIDAgM3B4IDVweCAtMXB4IHJnYmEoJGJsYWNrLCAkYm1kLXNoYWRvdy11bWJyYS1vcGFjaXR5KTtcbiRzaGFkb3ctOGRwOiAwIDhweCAxMHB4IDFweCByZ2JhKCRibGFjaywgJGJtZC1zaGFkb3ctcGVudW1icmEtb3BhY2l0eSksXG4gIDAgM3B4IDE0cHggMnB4IHJnYmEoJGJsYWNrLCAkYm1kLXNoYWRvdy1hbWJpZW50LW9wYWNpdHkpLFxuICAwIDVweCA1cHggLTNweCByZ2JhKCRibGFjaywgJGJtZC1zaGFkb3ctdW1icmEtb3BhY2l0eSk7XG4iXX0= */\"","import {\n  Component,\n  OnInit,\n  OnDestroy,\n  Output,\n  EventEmitter,\n} from \"@angular/core\";\nimport { User } from \"src/app/shared/types/user.type\";\nimport { UsersServices } from \"../../services/users.service\";\nimport { ConversationService } from \"../../services/conversations.service\";\nimport { Subscription } from \"rxjs\";\n\n@Component({\n  selector: \"app-users\",\n  templateUrl: \"./users.component.html\",\n  styleUrls: [\"./users.component.scss\"],\n})\nexport class UsersComponent implements OnInit, OnDestroy {\n  @Output() public setCurrentConversationPartner: EventEmitter<\n    User\n  > = new EventEmitter<User>();\n  public users: User[];\n  public selectedUserIdToChat: string;\n  private userSub: Subscription;\n\n  constructor(\n    private usersService: UsersServices,\n    private conversationService: ConversationService\n  ) {}\n\n  ngOnInit() {\n    this.userSub = this.usersService\n      .getAllUsers()\n      .subscribe((users: User[]) => {\n        this.users = users;\n      });\n  }\n\n  ngOnDestroy() {\n    this.userSub.unsubscribe();\n  }\n\n  public onUserSelect(selectedUser: User): void {\n    if (this.selectedUserIdToChat === selectedUser._id) {\n      return;\n    }\n    this.setCurrentConversationPartner.next(selectedUser);\n    this.selectedUserIdToChat = selectedUser._id;\n    this.conversationService.getConversationBetweenTwoUsers(selectedUser._id);\n  }\n}\n","module.exports = \"<div class=\\\"chat-page-container\\\">\\n  <div class=\\\"user-container\\\">\\n    <app-users\\n      (setCurrentConversationPartner)=\\\"updateConversationPartner($event)\\\"\\n    ></app-users>\\n  </div>\\n  <div class=\\\"message-container\\\">\\n    <app-messages-layout\\n      [conversationPartner]=\\\"conversationPartner\\\"\\n      [conversation]=\\\"conversation\\\"\\n    ></app-messages-layout>\\n  </div>\\n</div>\\n\"","module.exports = \".chat-page-container {\\n  display: flex;\\n  width: 100%;\\n  max-height: calc(100vh - 50px); }\\n  .chat-page-container .user-container {\\n    box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\\n    width: 20%;\\n    height: calc(100vh - 50px); }\\n  .chat-page-container .message-container {\\n    width: 80%;\\n    height: calc(100vh - 50px); }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9pZ29ycm9tYW5vdnNreS9kZXZlbG9wbWVudC9jaGF0QXBwL2NoYXQtZnJvbnRlbmQvc3JjL2FwcC9jaGF0L3BhZ2VzL2NoYXQtcGFnZS9jaGF0LXBhZ2UuY29tcG9uZW50LnNjc3MiLCIvVXNlcnMvaWdvcnJvbWFub3Zza3kvZGV2ZWxvcG1lbnQvY2hhdEFwcC9jaGF0LWZyb250ZW5kL3NyYy9zdHlsZXMvdmFycy5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0VBQ0UsY0FBYTtFQUNiLFlBQVc7RUFDWCwrQkFBOEIsRUFZL0I7RUFmRDtJQU1JLGdIQ1JRO0lEU1IsV0FBVTtJQUNWLDJCQUEwQixFQUMzQjtFQVRIO0lBWUksV0FBVTtJQUNWLDJCQUEwQixFQUMzQiIsImZpbGUiOiJzcmMvYXBwL2NoYXQvcGFnZXMvY2hhdC1wYWdlL2NoYXQtcGFnZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgXCIuLi8uLi8uLi8uLi9zdHlsZXMvdmFycy5zY3NzXCI7XG5cbi5jaGF0LXBhZ2UtY29udGFpbmVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgd2lkdGg6IDEwMCU7XG4gIG1heC1oZWlnaHQ6IGNhbGMoMTAwdmggLSA1MHB4KTtcblxuICAudXNlci1jb250YWluZXIge1xuICAgIGJveC1zaGFkb3c6ICRzaGFkb3ctMmRwO1xuICAgIHdpZHRoOiAyMCU7XG4gICAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gNTBweCk7XG4gIH1cblxuICAubWVzc2FnZS1jb250YWluZXIge1xuICAgIHdpZHRoOiA4MCU7XG4gICAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gNTBweCk7XG4gIH1cbn1cbiIsIiRibGFjazogIzAwMDtcbiRncmF5LWRhcmtlcjogIzM5NDI0OTtcbiRncmF5LWRhcms6ICM0MzRjNTM7XG4kZ3JheTogIzZkNzU3OTtcbiRncmF5LWxpZ2h0OiAjYjBiNmI4O1xuJGdyYXktbGlnaHRlcjogI2Q1ZDlkODtcbiRncmF5LW1vcmUtbGlnaHRlcjogcmdiKDIzOSwgMjQzLCAyNDIpO1xuXG4kZ29vZ2xlQmx1ZTogIzQ4NmZlOTtcbiRnb29nbGVCbHVlTGlnaHRlcjogIzQ4NmZlOTtcbiRnb29nbGVHcmV5OiAjZjJmM2Y1O1xuXG4vLyBTaXplIGhlbHBlcnNcbiRuYXZiYXJIZWlnaHQ6IDUwcHg7XG5cbiRibWQtc2hhZG93LXVtYnJhLW9wYWNpdHk6IDAuMiAhZGVmYXVsdDtcbiRibWQtc2hhZG93LXBlbnVtYnJhLW9wYWNpdHk6IDAuMTQgIWRlZmF1bHQ7XG4kYm1kLXNoYWRvdy1hbWJpZW50LW9wYWNpdHk6IDAuMTIgIWRlZmF1bHQ7XG4kc2hhZG93LTJkcDogMCAycHggMnB4IDAgcmdiYSgkYmxhY2ssICRibWQtc2hhZG93LXBlbnVtYnJhLW9wYWNpdHkpLFxuICAwIDNweCAxcHggLTJweCByZ2JhKCRibGFjaywgJGJtZC1zaGFkb3ctdW1icmEtb3BhY2l0eSksXG4gIDAgMXB4IDVweCAwIHJnYmEoJGJsYWNrLCAkYm1kLXNoYWRvdy1hbWJpZW50LW9wYWNpdHkpO1xuJHNoYWRvdy00ZHA6IDAgNHB4IDVweCAwIHJnYmEoJGJsYWNrLCAkYm1kLXNoYWRvdy1wZW51bWJyYS1vcGFjaXR5KSxcbiAgMCAxcHggMTBweCAwIHJnYmEoJGJsYWNrLCAkYm1kLXNoYWRvdy1hbWJpZW50LW9wYWNpdHkpLFxuICAwIDJweCA0cHggLTFweCByZ2JhKCRibGFjaywgJGJtZC1zaGFkb3ctdW1icmEtb3BhY2l0eSk7XG4kc2hhZG93LTZkcDogMCA2cHggMTBweCAwIHJnYmEoJGJsYWNrLCAkYm1kLXNoYWRvdy1wZW51bWJyYS1vcGFjaXR5KSxcbiAgMCAxcHggMThweCAwIHJnYmEoJGJsYWNrLCAkYm1kLXNoYWRvdy1hbWJpZW50LW9wYWNpdHkpLFxuICAwIDNweCA1cHggLTFweCByZ2JhKCRibGFjaywgJGJtZC1zaGFkb3ctdW1icmEtb3BhY2l0eSk7XG4kc2hhZG93LThkcDogMCA4cHggMTBweCAxcHggcmdiYSgkYmxhY2ssICRibWQtc2hhZG93LXBlbnVtYnJhLW9wYWNpdHkpLFxuICAwIDNweCAxNHB4IDJweCByZ2JhKCRibGFjaywgJGJtZC1zaGFkb3ctYW1iaWVudC1vcGFjaXR5KSxcbiAgMCA1cHggNXB4IC0zcHggcmdiYSgkYmxhY2ssICRibWQtc2hhZG93LXVtYnJhLW9wYWNpdHkpO1xuIl19 */\"","import { Component, OnInit, OnDestroy } from \"@angular/core\";\nimport { Subscription } from \"rxjs\";\nimport { ConversationService } from \"../../services/conversations.service\";\nimport { User } from \"src/app/shared/types/user.type\";\nimport { Conversation } from \"../../types/conversations.type\";\nimport { Message } from \"../../types/message.type\";\nimport { MessagesService } from \"../../services/messages.service\";\n\n@Component({\n  selector: \"app-chat-page\",\n  templateUrl: \"./chat-page.component.html\",\n  styleUrls: [\"./chat-page.component.scss\"],\n})\nexport class ChatPageComponent implements OnInit, OnDestroy {\n  public conversation: Conversation;\n  public conversationPartner: User;\n  private conversationSub: Subscription;\n  private newMsgSub: Subscription;\n\n  constructor(\n    private conversationService: ConversationService,\n    private messageService: MessagesService\n  ) {}\n\n  ngOnInit() {\n    this.conversationSub = this.conversationService.updateConversationWithRelevantMessagesSub.subscribe(\n      (conversation: Conversation) => {\n        this.conversation = conversation;\n      }\n    );\n\n    this.newMsgSub = this.messageService.chatMessageUpdateSub.subscribe(\n      (newmsg: Message) => {\n        if (newmsg.conversationId === this.conversation._id) {\n          this.checkIfUpdateNewMessage(newmsg);\n        }\n      }\n    );\n  }\n\n  ngOnDestroy() {\n    this.conversationSub.unsubscribe();\n    this.newMsgSub.unsubscribe();\n  }\n\n  // trigger change detection\n  private checkIfUpdateNewMessage(newmsg: Message): void {\n    const copyOfConversation = Object.assign({}, this.conversation);\n    copyOfConversation.messages.push(newmsg);\n    this.conversation = copyOfConversation;\n  }\n\n  public updateConversationPartner(user: User): void {\n    this.conversationPartner = user;\n  }\n}\n","import { Injectable } from \"@angular/core\";\nimport { HttpClient, HttpHeaders } from \"@angular/common/http\";\nimport { AccessService } from \"src/app/access/services/access.service\";\nimport { User } from \"src/app/shared/types/user.type\";\nimport { environment } from \"src/environments/environment\";\nimport { Subject } from \"rxjs\";\nimport { Conversation } from \"../types/conversations.type\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class ConversationService {\n  public updateConversationWithRelevantMessagesSub: Subject<\n    Conversation\n  > = new Subject<Conversation>();\n  constructor(private http: HttpClient, private accessService: AccessService) {}\n\n  public getConversationBetweenTwoUsers(\n    idOfWantedUserToStartConversation: string\n  ): void {\n    const currentUser: User = this.accessService.loggedUser;\n    // Since were not using a JWT token we need to send also the currentUser id in the header\n    let headers: HttpHeaders = new HttpHeaders();\n    headers = headers.append(\"current-user-id\", currentUser._id);\n    this.http\n      .get<Conversation>(\n        `${environment.conversationsUrl}/${idOfWantedUserToStartConversation}`,\n        { headers }\n      )\n      .subscribe((conversation: Conversation) => {\n        this.updateConversationWithRelevantMessagesSub.next(conversation);\n      });\n  }\n}\n","import { Injectable } from \"@angular/core\";\nimport { HttpClient } from \"@angular/common/http\";\nimport { Observable } from \"rxjs\";\nimport { AccessService } from \"src/app/access/services/access.service\";\nimport { environment } from \"src/environments/environment\";\nimport { User } from \"src/app/shared/types/user.type\";\nimport { map } from \"rxjs/operators\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class UsersServices {\n  constructor(private http: HttpClient, private accessService: AccessService) {}\n\n  public getAllUsers(): Observable<User[]> {\n    return this.http.get<User[]>(environment.userUrl).pipe(\n      map((res: User[]) => {\n        return (res = this.filterCurrentUserFromListOfUsers(res));\n      })\n    );\n  }\n\n  private filterCurrentUserFromListOfUsers(userList: User[]): User[] {\n    const currentUser: User = this.accessService.loggedUser;\n    return userList.filter((user: User) => user._id !== currentUser._id);\n  }\n}\n"],"sourceRoot":""}